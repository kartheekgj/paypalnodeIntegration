paypal.Buttons({style:{shape:"pill",layout:"horizontal",color:"black",label:"pay",tagline:"false"},createOrder:function(e,o){$("#errPaypal").text("").hide();var r=$("#amount").val()||1;return r=parseInt(r,10),console.log(r),fetch("/demo_paypal/createOder",{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify({amount:r})}).then(function(e){return e.json()}).then(function(e){return console.log("createOrder:",e),$("#errPaypal").html("Order has been created: <b>"+e.orderId+"</b>").show(),e.orderId})},onApprove:function(e,o){return console.log("data:",e),fetch("/demo_paypal/approveOrder",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({orderID:e.orderID})}).then(function(e){return e.json()}).then(function(e){console.log("onApprove:",e);e=e.oData,e.purchase_units[0].payments.captures[0].id;console.log("approvalId:",e.purchase_units[0].payments.captures);var o=e.payer.name.given_name,r="<br />Order has been approved: <b>";r+=e.approvalId+"</b> by <b>",r+=o+"</b>",$("#errPaypal").append(r).show()})},onError:function(e){console.log(e)}}).render("#paypal-button-container");